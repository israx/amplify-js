
  <!DOCTYPE html>
  <html>
    <head>
      <title>MediaAutoTrack.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts</td><td class="">64.84%</td><td class="">0%</td><td class="">310</td><td class="">201</td><td class="">109</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">/*
 * Copyright 2019-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;). You may not use this file except in compliance with
 * the License. A copy of the License is located at
 *
 *     http://aws.amazon.com/apache2.0/
 *
 * or in the &quot;license&quot; file accompanying this file. This file is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions
 * and limitations under the License.
 */
import { RequestParams } from &#x27;./DataType&#x27;;

enum HTML5_MEDIA_EVENT {
	&#x27;PLAY&#x27; = &#x27;play&#x27;,
	&#x27;PAUSE&#x27; = &#x27;pause&#x27;,
	&#x27;ENDED&#x27; = &#x27;Ended&#x27;,
}
enum MEDIA_TYPE {
	&#x27;IFRAME&#x27; = &#x27;IFRAME&#x27;,
	&#x27;VIDEO&#x27; = &#x27;VIDEO&#x27;,
	&#x27;AUDIO&#x27; = &#x27;AUDIO&#x27;,
}
enum EVENT_TYPE {
	&#x27;PLAY&#x27; = &#x27;Play&#x27;,
	&#x27;ENDED&#x27; = &#x27;Ended&#x27;,
	&#x27;PAUSE&#x27; = &#x27;Pause&#x27;,
	&#x27;TIME_WATCHED&#x27; = &#x27;TimeWatched&#x27;,
}

export class MediaAutoTrack {
	private _mediaElement;
	private _provider;
	private _params;
	private _started;
	private _iframePlayer;
	private eventActionMapping = {
		[EVENT_TYPE.ENDED]: this.endedEventAction.bind(this),
		[EVENT_TYPE.PLAY]: this.playEventAction.bind(this),
		[EVENT_TYPE.PAUSE]: this.pauseEventAction.bind(this),
	};

	private _youTubeIframeLoader;

	constructor(params: RequestParams, provider) {
		const { eventData } = params;
		this._params = params;
		this._mediaElement = document.getElementById(
			eventData.properties[&#x27;domElementId&#x27;]
		);
		this._started = false;
		this._provider = provider;
		const mediaTrackFunMapping = {
			IFRAME: this._iframeMediaTracker,
			VIDEO: this._html5MediaTracker,
			AUDIO: this._html5MediaTracker,
		};

		mediaTrackFunMapping[this._mediaElement.tagName].bind(this)();

		this._initYoutubeFrame();
	}

	private _initYoutubeFrame() {
		this._youTubeIframeLoader = {
			src: &#x27;https://www.youtube.com/iframe_api&#x27;,
			loading: false,
			loaded: false,
			listeners: [],

			load(callback) {
				const _this = this;
				this.listeners.push(callback);

				if (this.loaded) {
					setTimeout(function() {
						_this.done();
					});
					return;
				}

				if (this.loading) {
					return;
				}

				this.loading = true;

				window[&#x27;onYouTubeIframeAPIReady&#x27;] = function() {
					_this.loaded = true;
					_this.done();
				};

				const script = document.createElement(&#x27;script&#x27;);
				script.type = &#x27;text/javascript&#x27;;
				script.src = this.src;
				document.body.appendChild(script);
			},

			done() {
				delete window[&#x27;onYouTubeIframeAPIReady&#x27;];

				while (this.listeners.length) {
					this.listeners.pop()(window[&#x27;YT&#x27;]);
				}
			},
		};
	}

	private _iframeMediaTracker(): void {
		const that = this;
		setInterval(function() {
			if (that._started) {
				that.recordEvent(MEDIA_TYPE.IFRAME, EVENT_TYPE.TIME_WATCHED);
			}
		}, 3 * 1000);
		this._youTubeIframeLoader.load(function(YT) {
			that._iframePlayer = new YT.Player(that._mediaElement.id, {
				events: { onStateChange: that._onPlayerStateChange.bind(that) },
			});
		});
	}

	private _onPlayerStateChange(event): void {
		const iframeEventMapping = {
			0: EVENT_TYPE.ENDED,
			1: EVENT_TYPE.PLAY,
			2: EVENT_TYPE.PAUSE,
		};
		const eventType = iframeEventMapping[event.data];
		if (eventType) {
			this.eventActionMapping[eventType](MEDIA_TYPE.IFRAME);
		}
	}

	private _html5MediaTracker(): void {
		const that = this;
		setInterval(function() {
			if (that._started) {
				that.recordEvent(MEDIA_TYPE.VIDEO, EVENT_TYPE.TIME_WATCHED);
			}
		}, 3 * 1000);
		this._mediaElement.addEventListener(
			HTML5_MEDIA_EVENT.PLAY,
			() =&gt; {
				that.eventActionMapping[EVENT_TYPE.PLAY](MEDIA_TYPE.VIDEO);
			},
			false
		);
		this._mediaElement.addEventListener(
			HTML5_MEDIA_EVENT.PAUSE,
			() =&gt; {
				that.eventActionMapping[EVENT_TYPE.PAUSE](MEDIA_TYPE.VIDEO);
			},
			false
		);

		this._mediaElement.addEventListener(
			HTML5_MEDIA_EVENT.ENDED,
			() =&gt; {
				that.eventActionMapping[EVENT_TYPE.ENDED](MEDIA_TYPE.VIDEO);
			},
			false
		);
	}

	private playEventAction(mediaType) {
		this._started = true;
		this.recordEvent(mediaType, EVENT_TYPE.PLAY);
	}

	private pauseEventAction(mediaType) {
		this._started = false;
		this.recordEvent(mediaType, EVENT_TYPE.PAUSE);
	}

	private endedEventAction(mediaType) {
		this._started = false;
		this.recordEvent(mediaType, EVENT_TYPE.ENDED);
	}

	private recordEvent(mediaType: string, eventType: string): void {
		const newParams = Object.assign({}, this._params);
		const { eventData } = newParams;
		eventData.eventType = eventType;
		if (mediaType === MEDIA_TYPE.VIDEO) {
			eventData.properties.timestamp = this._mediaElement.currentTime;
			eventData.properties.duration = this._mediaElement.duration;
		} else {
			eventData.properties.timestamp = this._financial(
				this._iframePlayer.getCurrentTime()
			);
			eventData.properties.duration = this._financial(
				this._iframePlayer.getDuration()
			);
		}
		const percentage =
			parseFloat(eventData.properties.timestamp) /
			parseFloat(eventData.properties.duration);
		eventData.properties.eventValue = Number(percentage.toFixed(4));
		delete eventData.properties.domElementId;
		this._provider.putToBuffer(newParams);
	}

	private _financial(x) {
		return Number.parseFloat(x).toFixed(4);
	}
}
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:32,&quot;character&quot;:9,&quot;text&quot;:&quot;_mediaElement&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:33,&quot;character&quot;:9,&quot;text&quot;:&quot;_provider&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:34,&quot;character&quot;:9,&quot;text&quot;:&quot;_params&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:35,&quot;character&quot;:9,&quot;text&quot;:&quot;_started&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:36,&quot;character&quot;:9,&quot;text&quot;:&quot;_iframePlayer&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:43,&quot;character&quot;:9,&quot;text&quot;:&quot;_youTubeIframeLoader&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:45,&quot;character&quot;:36,&quot;text&quot;:&quot;provider&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:47,&quot;character&quot;:7,&quot;text&quot;:&quot;_params&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:48,&quot;character&quot;:7,&quot;text&quot;:&quot;_mediaElement&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:51,&quot;character&quot;:7,&quot;text&quot;:&quot;_started&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:52,&quot;character&quot;:7,&quot;text&quot;:&quot;_provider&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:52,&quot;character&quot;:19,&quot;text&quot;:&quot;provider&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:59,&quot;character&quot;:28,&quot;text&quot;:&quot;_mediaElement&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:59,&quot;character&quot;:42,&quot;text&quot;:&quot;tagName&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:65,&quot;character&quot;:7,&quot;text&quot;:&quot;_youTubeIframeLoader&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:71,&quot;character&quot;:8,&quot;text&quot;:&quot;callback&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:72,&quot;character&quot;:10,&quot;text&quot;:&quot;_this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:72,&quot;character&quot;:18,&quot;text&quot;:&quot;this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:73,&quot;character&quot;:4,&quot;text&quot;:&quot;this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:73,&quot;character&quot;:9,&quot;text&quot;:&quot;listeners&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:73,&quot;character&quot;:19,&quot;text&quot;:&quot;push&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:73,&quot;character&quot;:24,&quot;text&quot;:&quot;callback&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:75,&quot;character&quot;:8,&quot;text&quot;:&quot;this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:75,&quot;character&quot;:13,&quot;text&quot;:&quot;loaded&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:77,&quot;character&quot;:6,&quot;text&quot;:&quot;_this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:77,&quot;character&quot;:12,&quot;text&quot;:&quot;done&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:82,&quot;character&quot;:8,&quot;text&quot;:&quot;this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:82,&quot;character&quot;:13,&quot;text&quot;:&quot;loading&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:86,&quot;character&quot;:4,&quot;text&quot;:&quot;this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:86,&quot;character&quot;:9,&quot;text&quot;:&quot;loading&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:89,&quot;character&quot;:5,&quot;text&quot;:&quot;_this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:89,&quot;character&quot;:11,&quot;text&quot;:&quot;loaded&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:90,&quot;character&quot;:5,&quot;text&quot;:&quot;_this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:90,&quot;character&quot;:11,&quot;text&quot;:&quot;done&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:95,&quot;character&quot;:17,&quot;text&quot;:&quot;this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:95,&quot;character&quot;:22,&quot;text&quot;:&quot;src&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:102,&quot;character&quot;:11,&quot;text&quot;:&quot;this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:102,&quot;character&quot;:16,&quot;text&quot;:&quot;listeners&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:102,&quot;character&quot;:26,&quot;text&quot;:&quot;length&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:103,&quot;character&quot;:5,&quot;text&quot;:&quot;this&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:103,&quot;character&quot;:10,&quot;text&quot;:&quot;listeners&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:103,&quot;character&quot;:20,&quot;text&quot;:&quot;pop&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:112,&quot;character&quot;:12,&quot;text&quot;:&quot;_started&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:116,&quot;character&quot;:7,&quot;text&quot;:&quot;_youTubeIframeLoader&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:116,&quot;character&quot;:28,&quot;text&quot;:&quot;load&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:116,&quot;character&quot;:42,&quot;text&quot;:&quot;YT&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:117,&quot;character&quot;:8,&quot;text&quot;:&quot;_iframePlayer&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:117,&quot;character&quot;:28,&quot;text&quot;:&quot;YT&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:117,&quot;character&quot;:31,&quot;text&quot;:&quot;Player&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:117,&quot;character&quot;:43,&quot;text&quot;:&quot;_mediaElement&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:117,&quot;character&quot;:57,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:118,&quot;character&quot;:14,&quot;text&quot;:&quot;onStateChange&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:123,&quot;character&quot;:30,&quot;text&quot;:&quot;event&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:129,&quot;character&quot;:39,&quot;text&quot;:&quot;event&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:129,&quot;character&quot;:45,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:138,&quot;character&quot;:12,&quot;text&quot;:&quot;_started&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:142,&quot;character&quot;:7,&quot;text&quot;:&quot;_mediaElement&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:142,&quot;character&quot;:21,&quot;text&quot;:&quot;addEventListener&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:149,&quot;character&quot;:7,&quot;text&quot;:&quot;_mediaElement&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:149,&quot;character&quot;:21,&quot;text&quot;:&quot;addEventListener&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:157,&quot;character&quot;:7,&quot;text&quot;:&quot;_mediaElement&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:157,&quot;character&quot;:21,&quot;text&quot;:&quot;addEventListener&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:166,&quot;character&quot;:25,&quot;text&quot;:&quot;mediaType&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:167,&quot;character&quot;:7,&quot;text&quot;:&quot;_started&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:171,&quot;character&quot;:26,&quot;text&quot;:&quot;mediaType&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:172,&quot;character&quot;:7,&quot;text&quot;:&quot;_started&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:176,&quot;character&quot;:26,&quot;text&quot;:&quot;mediaType&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:177,&quot;character&quot;:7,&quot;text&quot;:&quot;_started&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:182,&quot;character&quot;:8,&quot;text&quot;:&quot;newParams&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:182,&quot;character&quot;:43,&quot;text&quot;:&quot;_params&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:183,&quot;character&quot;:10,&quot;text&quot;:&quot;eventData&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:184,&quot;character&quot;:2,&quot;text&quot;:&quot;eventData&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:184,&quot;character&quot;:12,&quot;text&quot;:&quot;eventType&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:186,&quot;character&quot;:3,&quot;text&quot;:&quot;eventData&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:186,&quot;character&quot;:13,&quot;text&quot;:&quot;properties&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:186,&quot;character&quot;:24,&quot;text&quot;:&quot;timestamp&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:186,&quot;character&quot;:41,&quot;text&quot;:&quot;_mediaElement&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:186,&quot;character&quot;:55,&quot;text&quot;:&quot;currentTime&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:187,&quot;character&quot;:3,&quot;text&quot;:&quot;eventData&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:187,&quot;character&quot;:13,&quot;text&quot;:&quot;properties&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:187,&quot;character&quot;:24,&quot;text&quot;:&quot;duration&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:187,&quot;character&quot;:40,&quot;text&quot;:&quot;_mediaElement&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:187,&quot;character&quot;:54,&quot;text&quot;:&quot;duration&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:189,&quot;character&quot;:3,&quot;text&quot;:&quot;eventData&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:189,&quot;character&quot;:13,&quot;text&quot;:&quot;properties&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:189,&quot;character&quot;:24,&quot;text&quot;:&quot;timestamp&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:190,&quot;character&quot;:9,&quot;text&quot;:&quot;_iframePlayer&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:190,&quot;character&quot;:23,&quot;text&quot;:&quot;getCurrentTime&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:192,&quot;character&quot;:3,&quot;text&quot;:&quot;eventData&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:192,&quot;character&quot;:13,&quot;text&quot;:&quot;properties&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:192,&quot;character&quot;:24,&quot;text&quot;:&quot;duration&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:193,&quot;character&quot;:9,&quot;text&quot;:&quot;_iframePlayer&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:193,&quot;character&quot;:23,&quot;text&quot;:&quot;getDuration&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:197,&quot;character&quot;:14,&quot;text&quot;:&quot;eventData&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:197,&quot;character&quot;:24,&quot;text&quot;:&quot;properties&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:197,&quot;character&quot;:35,&quot;text&quot;:&quot;timestamp&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:198,&quot;character&quot;:14,&quot;text&quot;:&quot;eventData&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:198,&quot;character&quot;:24,&quot;text&quot;:&quot;properties&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:198,&quot;character&quot;:35,&quot;text&quot;:&quot;duration&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:199,&quot;character&quot;:2,&quot;text&quot;:&quot;eventData&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:199,&quot;character&quot;:12,&quot;text&quot;:&quot;properties&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:199,&quot;character&quot;:23,&quot;text&quot;:&quot;eventValue&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:200,&quot;character&quot;:9,&quot;text&quot;:&quot;eventData&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:200,&quot;character&quot;:19,&quot;text&quot;:&quot;properties&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:200,&quot;character&quot;:30,&quot;text&quot;:&quot;domElementId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:201,&quot;character&quot;:7,&quot;text&quot;:&quot;_provider&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:201,&quot;character&quot;:17,&quot;text&quot;:&quot;putToBuffer&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:201,&quot;character&quot;:29,&quot;text&quot;:&quot;newParams&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AmazonPersonalizeHelper/MediaAutoTrack.ts&quot;,&quot;line&quot;:204,&quot;character&quot;:20,&quot;text&quot;:&quot;x&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Mon, 17 Oct 2022 20:15:24 GMT</p>
    </body>
  </html>
  