
  <!DOCTYPE html>
  <html>
    <head>
      <title>AWSCloudWatchProvider.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/Providers/AWSCloudWatchProvider.ts</td><td class="">90.26%</td><td class="">0%</td><td class="">647</td><td class="">584</td><td class="">63</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">/*
 * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;). You may not use this file except in compliance with
 * the License. A copy of the License is located at
 *
 *     http://aws.amazon.com/apache2.0/
 *
 * or in the &quot;license&quot; file accompanying this file. This file is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions
 * and limitations under the License.
 */

import {
	CloudWatchLogsClient,
	CreateLogGroupCommand,
	CreateLogGroupCommandInput,
	CreateLogGroupCommandOutput,
	CreateLogStreamCommand,
	CreateLogStreamCommandInput,
	CreateLogStreamCommandOutput,
	DescribeLogGroupsCommand,
	DescribeLogGroupsCommandInput,
	DescribeLogGroupsCommandOutput,
	DescribeLogStreamsCommand,
	DescribeLogStreamsCommandInput,
	DescribeLogStreamsCommandOutput,
	GetLogEventsCommand,
	GetLogEventsCommandInput,
	GetLogEventsCommandOutput,
	InputLogEvent,
	LogGroup,
	LogStream,
	PutLogEventsCommand,
	PutLogEventsCommandInput,
	PutLogEventsCommandOutput,
} from &#x27;@aws-sdk/client-cloudwatch-logs&#x27;;
import {
	AWSCloudWatchProviderOptions,
	CloudWatchDataTracker,
	LoggingProvider,
} from &#x27;../types/types&#x27;;
import { Credentials } from &#x27;../..&#x27;;
import { ConsoleLogger as Logger } from &#x27;../Logger&#x27;;
import { getAmplifyUserAgent } from &#x27;../Platform&#x27;;
import { parseMobileHubConfig } from &#x27;../Parser&#x27;;
import {
	AWS_CLOUDWATCH_BASE_BUFFER_SIZE,
	AWS_CLOUDWATCH_CATEGORY,
	AWS_CLOUDWATCH_MAX_BATCH_EVENT_SIZE,
	AWS_CLOUDWATCH_MAX_EVENT_SIZE,
	AWS_CLOUDWATCH_PROVIDER_NAME,
	NO_CREDS_ERROR_STRING,
	RETRY_ERROR_CODES,
} from &#x27;../Util/Constants&#x27;;

const logger = new Logger(&#x27;AWSCloudWatch&#x27;);

class AWSCloudWatchProvider implements LoggingProvider {
	static readonly PROVIDER_NAME = AWS_CLOUDWATCH_PROVIDER_NAME;
	static readonly CATEGORY = AWS_CLOUDWATCH_CATEGORY;

	private _config: AWSCloudWatchProviderOptions;
	private _dataTracker: CloudWatchDataTracker;
	private _currentLogBatch: InputLogEvent[];
	private _timer;
	private _nextSequenceToken: string | undefined;

	constructor(config?: AWSCloudWatchProviderOptions) {
		this.configure(config);
		this._dataTracker = {
			eventUploadInProgress: false,
			logEvents: [],
		};
		this._currentLogBatch = [];
		this._initiateLogPushInterval();
	}

	public getProviderName(): string {
		return AWSCloudWatchProvider.PROVIDER_NAME;
	}

	public getCategoryName(): string {
		return AWSCloudWatchProvider.CATEGORY;
	}

	public getLogQueue(): InputLogEvent[] {
		return this._dataTracker.logEvents;
	}

	public configure(
		config?: AWSCloudWatchProviderOptions
	): AWSCloudWatchProviderOptions {
		if (!config) return this._config || {};

		const conf = Object.assign(
			{},
			this._config,
			parseMobileHubConfig(config).Logging,
			config
		);
		this._config = conf;

		return this._config;
	}

	public async createLogGroup(
		params: CreateLogGroupCommandInput
	): Promise&lt;CreateLogGroupCommandOutput&gt; {
		logger.debug(
			&#x27;creating new log group in CloudWatch - &#x27;,
			params.logGroupName
		);
		const cmd = new CreateLogGroupCommand(params);

		try {
			const credentialsOK = await this._ensureCredentials();
			if (!credentialsOK) {
				throw new Error(NO_CREDS_ERROR_STRING);
			}

			const client = this._initCloudWatchLogs();
			const output = await client.send(cmd);
			return output;
		} catch (error) {
			logger.error(`error creating log group - ${error}`);
			throw error;
		}
	}

	public async getLogGroups(
		params: DescribeLogGroupsCommandInput
	): Promise&lt;DescribeLogGroupsCommandOutput&gt; {
		logger.debug(&#x27;getting list of log groups&#x27;);

		const cmd = new DescribeLogGroupsCommand(params);

		try {
			const credentialsOK = await this._ensureCredentials();
			if (!credentialsOK) {
				throw new Error(NO_CREDS_ERROR_STRING);
			}

			const client = this._initCloudWatchLogs();
			const output = await client.send(cmd);
			return output;
		} catch (error) {
			logger.error(`error getting log group - ${error}`);
			throw error;
		}
	}

	public async createLogStream(
		params: CreateLogStreamCommandInput
	): Promise&lt;CreateLogStreamCommandOutput&gt; {
		logger.debug(
			&#x27;creating new log stream in CloudWatch - &#x27;,
			params.logStreamName
		);
		const cmd = new CreateLogStreamCommand(params);

		try {
			const credentialsOK = await this._ensureCredentials();
			if (!credentialsOK) {
				throw new Error(NO_CREDS_ERROR_STRING);
			}

			const client = this._initCloudWatchLogs();
			const output = await client.send(cmd);
			return output;
		} catch (error) {
			logger.error(`error creating log stream - ${error}`);
			throw error;
		}
	}

	public async getLogStreams(
		params: DescribeLogStreamsCommandInput
	): Promise&lt;DescribeLogStreamsCommandOutput&gt; {
		logger.debug(&#x27;getting list of log streams&#x27;);
		const cmd = new DescribeLogStreamsCommand(params);

		try {
			const credentialsOK = await this._ensureCredentials();
			if (!credentialsOK) {
				throw new Error(NO_CREDS_ERROR_STRING);
			}

			const client = this._initCloudWatchLogs();
			const output = await client.send(cmd);
			return output;
		} catch (error) {
			logger.error(`error getting log stream - ${error}`);
			throw error;
		}
	}

	public async getLogEvents(
		params: GetLogEventsCommandInput
	): Promise&lt;GetLogEventsCommandOutput&gt; {
		logger.debug(&#x27;getting log events from stream - &#x27;, params.logStreamName);
		const cmd = new GetLogEventsCommand(params);

		try {
			const credentialsOK = await this._ensureCredentials();
			if (!credentialsOK) {
				throw new Error(NO_CREDS_ERROR_STRING);
			}

			const client = this._initCloudWatchLogs();
			const output = await client.send(cmd);
			return output;
		} catch (error) {
			logger.error(`error getting log events - ${error}`);
			throw error;
		}
	}

	public pushLogs(logs: InputLogEvent[]): void {
		logger.debug(&#x27;pushing log events to Cloudwatch...&#x27;);
		this._dataTracker.logEvents = [...this._dataTracker.logEvents, ...logs];
	}

	private async _validateLogGroupExistsAndCreate(
		logGroupName: string
	): Promise&lt;LogGroup&gt; {
		if (this._dataTracker.verifiedLogGroup) {
			return this._dataTracker.verifiedLogGroup;
		}

		try {
			const credentialsOK = await this._ensureCredentials();
			if (!credentialsOK) {
				throw new Error(NO_CREDS_ERROR_STRING);
			}

			const currGroups = await this.getLogGroups({
				logGroupNamePrefix: logGroupName,
			});

			if (!(typeof currGroups === &#x27;string&#x27;) &amp;&amp; currGroups.logGroups) {
				const foundGroups = currGroups.logGroups.filter(
					group =&gt; group.logGroupName === logGroupName
				);
				if (foundGroups.length &gt; 0) {
					this._dataTracker.verifiedLogGroup = foundGroups[0];

					return foundGroups[0];
				}
			}

			/**
			 * If we get to this point, it means that the specified log group does not exist
			 * and we should create it.
			 */
			await this.createLogGroup({ logGroupName });

			return null;
		} catch (err) {
			const errString = `failure during log group search: ${err}`;
			logger.error(errString);
			throw err;
		}
	}

	private async _validateLogStreamExists(
		logGroupName: string,
		logStreamName: string
	): Promise&lt;LogStream&gt; {
		try {
			const credentialsOK = await this._ensureCredentials();
			if (!credentialsOK) {
				throw new Error(NO_CREDS_ERROR_STRING);
			}

			const currStreams = await this.getLogStreams({
				logGroupName,
				logStreamNamePrefix: logStreamName,
			});

			if (currStreams.logStreams) {
				const foundStreams = currStreams.logStreams.filter(
					stream =&gt; stream.logStreamName === logStreamName
				);
				if (foundStreams.length &gt; 0) {
					this._nextSequenceToken = foundStreams[0].uploadSequenceToken;

					return foundStreams[0];
				}
			}

			/**
			 * If we get to this point, it means that the specified stream does not
			 * exist, and we should create it now.
			 */
			await this.createLogStream({
				logGroupName,
				logStreamName,
			});

			return null;
		} catch (err) {
			const errString = `failure during log stream search: ${err}`;
			logger.error(errString);
			throw err;
		}
	}

	private async _sendLogEvents(
		params: PutLogEventsCommandInput
	): Promise&lt;PutLogEventsCommandOutput&gt; {
		try {
			const credentialsOK = await this._ensureCredentials();
			if (!credentialsOK) {
				throw new Error(NO_CREDS_ERROR_STRING);
			}

			logger.debug(&#x27;sending log events to stream - &#x27;, params.logStreamName);
			const cmd = new PutLogEventsCommand(params);
			const client = this._initCloudWatchLogs();
			const output = await client.send(cmd);

			return output;
		} catch (err) {
			const errString = `failure during log push: ${err}`;
			logger.error(errString);
		}
	}

	private _initCloudWatchLogs() {
		return new CloudWatchLogsClient({
			region: this._config.region,
			credentials: this._config.credentials,
			customUserAgent: getAmplifyUserAgent(),
			endpoint: this._config.endpoint,
		});
	}

	private async _ensureCredentials() {
		return await Credentials.get()
			.then(credentials =&gt; {
				if (!credentials) return false;
				const cred = Credentials.shear(credentials);
				logger.debug(&#x27;set credentials for logging&#x27;, cred);
				this._config.credentials = cred;

				return true;
			})
			.catch(error =&gt; {
				logger.warn(&#x27;ensure credentials error&#x27;, error);
				return false;
			});
	}

	private async _getNextSequenceToken(): Promise&lt;string&gt; {
		if (this._nextSequenceToken &amp;&amp; this._nextSequenceToken.length &gt; 0) {
			return this._nextSequenceToken;
		}

		/**
		 * A sequence token will not exist if any of the following are true:
		 *   ...the log group does not exist
		 *   ...the log stream does not exist
		 *   ...the log stream does exist but has no logs written to it yet
		 */
		try {
			await this._validateLogGroupExistsAndCreate(this._config.logGroupName);

			this._nextSequenceToken = undefined;

			const logStream = await this._validateLogStreamExists(
				this._config.logGroupName,
				this._config.logStreamName
			);

			if (logStream) {
				this._nextSequenceToken = logStream.uploadSequenceToken;
			}

			return this._nextSequenceToken;
		} catch (err) {
			logger.error(`failure while getting next sequence token: ${err}`);
			throw err;
		}
	}

	private async _safeUploadLogEvents(): Promise&lt;PutLogEventsCommandOutput&gt; {
		try {
			/**
			 * CloudWatch has restrictions on the size of the log events that get sent up.
			 * We need to track both the size of each event and the total size of the batch
			 * of logs.
			 *
			 * We also need to ensure that the logs in the batch are sorted in chronological order.
			 * https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_PutLogEvents.html
			 */
			const seqToken = await this._getNextSequenceToken();
			const logBatch =
				this._currentLogBatch.length === 0
					? this._getBufferedBatchOfLogs()
					: this._currentLogBatch;

			const putLogsPayload: PutLogEventsCommandInput = {
				logGroupName: this._config.logGroupName,
				logStreamName: this._config.logStreamName,
				logEvents: logBatch,
				sequenceToken: seqToken,
			};

			this._dataTracker.eventUploadInProgress = true;
			const sendLogEventsResponse = await this._sendLogEvents(putLogsPayload);

			this._nextSequenceToken = sendLogEventsResponse.nextSequenceToken;
			this._dataTracker.eventUploadInProgress = false;
			this._currentLogBatch = [];

			return sendLogEventsResponse;
		} catch (err) {
			logger.error(`error during _safeUploadLogEvents: ${err}`);

			if (RETRY_ERROR_CODES.includes(err.name)) {
				this._getNewSequenceTokenAndSubmit({
					logEvents: this._currentLogBatch,
					logGroupName: this._config.logGroupName,
					logStreamName: this._config.logStreamName,
				});
			} else {
				this._dataTracker.eventUploadInProgress = false;
				throw err;
			}
		}
	}

	private _getBufferedBatchOfLogs(): InputLogEvent[] {
		/**
		 * CloudWatch has restrictions on the size of the log events that get sent up.
		 * We need to track both the size of each event and the total size of the batch
		 * of logs.
		 *
		 * We also need to ensure that the logs in the batch are sorted in chronological order.
		 * https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_PutLogEvents.html
		 */
		let currentEventIdx = 0;
		let totalByteSize = 0;

		while (currentEventIdx &lt; this._dataTracker.logEvents.length) {
			const currentEvent = this._dataTracker.logEvents[currentEventIdx];
			const eventSize = currentEvent
				? new TextEncoder().encode(currentEvent.message).length +
				  AWS_CLOUDWATCH_BASE_BUFFER_SIZE
				: 0;
			if (eventSize &gt; AWS_CLOUDWATCH_MAX_EVENT_SIZE) {
				const errString = `Log entry exceeds maximum size for CloudWatch logs. Log size: ${eventSize}. Truncating log message.`;
				logger.warn(errString);

				currentEvent.message = currentEvent.message.substring(0, eventSize);
			}

			if (totalByteSize + eventSize &gt; AWS_CLOUDWATCH_MAX_BATCH_EVENT_SIZE)
				break;
			totalByteSize += eventSize;
			currentEventIdx++;
		}

		this._currentLogBatch = this._dataTracker.logEvents.splice(
			0,
			currentEventIdx
		);

		return this._currentLogBatch;
	}

	private async _getNewSequenceTokenAndSubmit(
		payload: PutLogEventsCommandInput
	): Promise&lt;PutLogEventsCommandOutput&gt; {
		try {
			this._nextSequenceToken = undefined;
			this._dataTracker.eventUploadInProgress = true;

			const seqToken = await this._getNextSequenceToken();
			payload.sequenceToken = seqToken;
			const sendLogEventsRepsonse = await this._sendLogEvents(payload);

			this._dataTracker.eventUploadInProgress = false;
			this._currentLogBatch = [];

			return sendLogEventsRepsonse;
		} catch (err) {
			logger.error(
				`error when retrying log submission with new sequence token: ${err}`
			);
			this._dataTracker.eventUploadInProgress = false;

			throw err;
		}
	}

	private _initiateLogPushInterval(): void {
		if (this._timer) {
			clearInterval(this._timer);
		}

		this._timer = setInterval(async () =&gt; {
			try {
				if (this._getDocUploadPermissibility()) {
					await this._safeUploadLogEvents();
				}
			} catch (err) {
				logger.error(
					`error when calling _safeUploadLogEvents in the timer interval - ${err}`
				);
			}
		}, 2000);
	}

	private _getDocUploadPermissibility(): boolean {
		return (
			(this._dataTracker.logEvents.length !== 0 ||
				this._currentLogBatch.length !== 0) &amp;&amp;
			!this._dataTracker.eventUploadInProgress
		);
	}
}

export { AWSCloudWatchProvider };
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:65,&quot;character&quot;:9,&quot;text&quot;:&quot;_timer&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:116,&quot;character&quot;:9,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:117,&quot;character&quot;:8,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:125,&quot;character&quot;:46,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:126,&quot;character&quot;:9,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:124,&quot;character&quot;:11,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:138,&quot;character&quot;:9,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:139,&quot;character&quot;:8,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:147,&quot;character&quot;:45,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:148,&quot;character&quot;:9,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:146,&quot;character&quot;:11,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:162,&quot;character&quot;:9,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:163,&quot;character&quot;:8,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:171,&quot;character&quot;:47,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:172,&quot;character&quot;:9,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:170,&quot;character&quot;:11,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:183,&quot;character&quot;:9,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:184,&quot;character&quot;:8,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:192,&quot;character&quot;:46,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:193,&quot;character&quot;:9,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:191,&quot;character&quot;:11,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:204,&quot;character&quot;:9,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:205,&quot;character&quot;:8,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:213,&quot;character&quot;:46,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:214,&quot;character&quot;:9,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:212,&quot;character&quot;:11,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:231,&quot;character&quot;:9,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:232,&quot;character&quot;:8,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:259,&quot;character&quot;:57,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:261,&quot;character&quot;:9,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:258,&quot;character&quot;:11,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:270,&quot;character&quot;:9,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:271,&quot;character&quot;:8,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:302,&quot;character&quot;:58,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:304,&quot;character&quot;:9,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:301,&quot;character&quot;:11,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:312,&quot;character&quot;:9,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:313,&quot;character&quot;:8,&quot;text&quot;:&quot;credentialsOK&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:324,&quot;character&quot;:49,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:323,&quot;character&quot;:11,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:340,&quot;character&quot;:4,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:340,&quot;character&quot;:9,&quot;text&quot;:&quot;credentials&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:341,&quot;character&quot;:9,&quot;text&quot;:&quot;credentials&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:342,&quot;character&quot;:35,&quot;text&quot;:&quot;credentials&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:348,&quot;character&quot;:4,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:348,&quot;character&quot;:10,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:349,&quot;character&quot;:44,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:381,&quot;character&quot;:62,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:382,&quot;character&quot;:9,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:380,&quot;character&quot;:11,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:418,&quot;character&quot;:54,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:420,&quot;character&quot;:34,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:420,&quot;character&quot;:38,&quot;text&quot;:&quot;name&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:428,&quot;character&quot;:10,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:417,&quot;character&quot;:11,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:489,&quot;character&quot;:67,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:493,&quot;character&quot;:9,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:487,&quot;character&quot;:11,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:498,&quot;character&quot;:11,&quot;text&quot;:&quot;_timer&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:499,&quot;character&quot;:22,&quot;text&quot;:&quot;_timer&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:502,&quot;character&quot;:7,&quot;text&quot;:&quot;_timer&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:509,&quot;character&quot;:72,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Providers/AWSCloudWatchProvider.ts&quot;,&quot;line&quot;:507,&quot;character&quot;:12,&quot;text&quot;:&quot;err&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Mon, 17 Oct 2022 20:15:20 GMT</p>
    </body>
  </html>
  